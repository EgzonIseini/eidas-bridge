$(function() {
    $("#load-qec .glyphicon").hide();
});

function loadQEC () {
    $("#load-qec .glyphicon").show();

    var data = {
        "did": "did:example:21tDAKCERh95uGgKbJNHYp",
        "p12data": "308203c90201033082038f06092a864886f70d010701a08203800482037c308203783082027706092a864886f70d010706a0820268308202640201003082025d06092a864886f70d010701301c060a2a864886f70d010c0106300e0408273ffca45dbf806b02020800808202307d41394e3b892f6a8e38c5373d1d21ae2130cdaf377d634e3eca63b66e71558c3e1f66cee435cf0db87e4ff1aed5de200c68e1e35d90bca5634276bcbfc31af291a69ad1ac223fea6c4806f0ceb89673c7ca0b4baae72ba5e3b78207fc1d253c959d3affedc703b97fa5bbabfd6017011f70e657c788dea4a7d28fb4386d5bcd6cb6ba23304297ae5b8df499a4cb94ea3e04bcc727c2c4c06201e7b64ffeda417eb7a88a02827fe91fae8cef3df69028dd4be5ea4224584384555c4e3d7574c9e55de20be880c384477e4da82bb1b0734ccbb726b46a514d8c8c8bbebe375a67686a1bf500e106662ebbf598f86a24a2c94ce10853bec25a1466b6a3a28d49d1077e089edfd222c9aac861c55189ac917b9637485d6330a24ee4be1418e361438842800d8490cff89c32cc73ea7e6267994f550457553ac9039efa961344897ded92c53f47f7dba30e673b01932d88a53bc6c13ae393fa9a39dee53a5c888a92f954b47ca4f3ec542dc0a759f30f0cb39206099f1c969cf42afc2e1b372ea2801bd2f84451a4861316451b259025ea4ff0230687e08afeccb0b64608b179cac8920b44d6d0b2fda45b5be3cfe29c0097bc950f8aafbb8ca6aa5d35b3015bc161e906408abcd85dba2726d6aa5f9e2b63fb9dc6bcd81de574e89e4c408099ee5612060461aa374abda1e370325f9bd7b6dd98f16b78199ac8de5850a615d7b5c9b14eef625ab68e91ffa287378466c1eecd371d5a70c4cee31fda0e9f59a3ce0b7e4eaae691ee3cf013a13a1a0fdfce253081fa06092a864886f70d010701a081ec0481e93081e63081e3060b2a864886f70d010c0a0102a081ac3081a9301c060a2a864886f70d010c0103300e0408fae73712fbcb42e90202080004818828de9f3fc3cc2366b93e12a1d7ef46eaa3d88876251c76f849b44b1ec67185e29561832a7049401371193edbceb08620166ecec1e0636cd75f48c28cacdcc53cb538e6fafcf8f54852488317d528cf3b3d7a1272187a957f7ab4aceb30e8c4b54fae3ea037433e2cd2d33bbe51abdcb001d89373fc6875aebe972519b5f4bcb90583cc292fbc16653125302306092a864886f70d010915311604145d468eb5cd8c0db171cdf38758809f04ac95ebc830313021300906052b0e03021a05000414136d9fe56d935eb5478171f41a4ef290de62b0360408f9101c1c3a66cab702020800",
        "password": "passphrase"
      };

    $.ajax({
        type: "POST",
        url: "http://localhost:5002/eidas/load-qec",
        processData: false,
        contentType: 'application/json',
        data: JSON.stringify(data),
        success: onValidationSuccess
    });
}

function onValidationSuccess(data) {
    if (data.result) {
        console.log(data.result);
        $("#load-qec .glyphicon").hide();
    } else {
        console.error('Error');
    }
}