
version: '3.7'

services:
  eidasbridge:
    build: 
      context: .
      dockerfile: ./Dockerfile
    image: eidasbridge-dev.ebsi.xyz
    container_name: eidasbridge
    ports:
      - '9000:9000'
    environment:
      - FLASK_ENV=development
    restart: always
    volumes:
      - ./:/code
    networks: 
      - backend

  hubserver:
    build: 
        context: ./demo
        dockerfile: ./Dockerfile
    image: hubserver-dev.ebsi.xyz
    container_name: hubserver
    ports:
      - '9001:9001'
    environment:
      - FLASK_ENV=development
    restart: always
    networks: 
      - backend

networks:
  backend:
    driver: "bridge"